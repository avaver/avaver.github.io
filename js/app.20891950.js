(function(t){function e(e){for(var s,r,a=e[0],l=e[1],c=e[2],m=0,v=[];m<a.length;m++)r=a[m],o[r]&&v.push(o[r][0]),o[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);h&&h(e);while(v.length)v.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],s=!0,a=1;a<i.length;a++){var l=i[a];0!==o[l]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=i[0]))}return t}var s={},o={app:0},n=[];function r(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=s,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var h=l;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("cd49")},"0d4a":function(t,e,i){"use strict";var s=i("240f"),o=i.n(s);o.a},"240f":function(t,e,i){},b0ec:function(t,e,i){t.exports=function(){return new Worker(i.p+"9ed0cbd9eddfca986127.worker.js")}},cd49:function(t,e,i){"use strict";i.r(e);i("e792");var s=i("2b0e"),o=i("ce5b"),n=i.n(o);i("bf40");s["default"].use(n.a,{iconfont:"md",theme:{primary:"#607d8b",secondary:"#424242",accent:"#fb8c00",error:"#d84315",info:"#0277bd",success:"#558b2f",warning:"#fb8c00"}});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",[i("v-navigation-drawer",{attrs:{floating:"",clipped:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[i("Device")],1),i("v-toolbar",{attrs:{app:"","clipped-left":"",color:"secondary",dark:""}},[i("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),i("v-toolbar-title",[t._v("Smart Cube")])],1),i("v-content",[i("v-container",{attrs:{fluid:"","grid-list-xl":""}},[i("v-layout",{attrs:{"justify-center":"",column:""}},[i("Scramble",{attrs:{game:t.game}}),i("SolveTimer",{attrs:{game:t.game}}),i("v-container",{attrs:{"grid-list-xl":""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("Inspection")],1),i("v-flex",{attrs:{xs12:"",sm6:"",lg3:""}},[i("Cross")],1),i("v-flex",{attrs:{xs12:"",sm6:"",lg3:""}},[i("F2L")],1),i("v-flex",{attrs:{xs12:"",sm6:"",lg3:""}},[i("OLL")],1),i("v-flex",{attrs:{xs12:"",sm6:"",lg3:""}},[i("PLL")],1),i("v-flex",{attrs:{xs12:""}},[i("AUF")],1),i("v-flex",{attrs:{xs12:""}},[i("Results",{attrs:{game:t.game}})],1)],1)],1)],1)],1)],1),i("v-footer",{attrs:{app:"",fixed:"",dark:"",color:"secondary"}},[i("v-layout",{attrs:{"justify-space-around":""}},[i("div",[i("v-icon",{attrs:{small:"",color:"accent"}},[t._v(t._s(t.connected?"bluetooth_connected":"bluetooth_disabled"))]),t._v(" "+t._s(t.connected?"Connected ["+t.cubeName+"]":"Disconnected"))],1),i("div",{staticClass:"hidden-sm-and-down"},[t._v("State: "+t._s(t.state))]),i("div",[i("a",{staticClass:"subheading font-weight-light white--text",attrs:{href:"mailto:avaver@gmail.com"}},[t._v("avaver@gmail.com")])])])],1),i("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.nobluetooth,callback:function(e){t.nobluetooth=e},expression:"nobluetooth"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[t._v("Ooops!")]),i("v-card-text",[t._v("It seems your browser doesn't support bluetooth web api. Try checking "),i("a",{attrs:{href:"https://www.google.com/chrome/canary/"}},[t._v("Chrome Canary")]),t._v(" for your platform.")])],1)],1),i("v-snackbar",{attrs:{timeout:t.snackbarTimeout,color:t.snackbarColor},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n        "+t._s(t.snackbarText)+"\n        "),i("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1)],1)},a=[],l=i("9ab4"),c=i("60a3");const h=new s["default"],m={error:"error",cubeConnect:"cube-connect",cubeDisconnect:"cube-disconnect",cubeState:"cube-state",cubeReset:"cube-reset",cubeScrambled:"cube-scrambled",solveStarted:"solve-started",solveCancelled:"solve-cancelled",cubeSolved:"cube-solved",cfopCross:"cfop-cross",cfopF2l:"cfop-f2l",cfopOll:"cfor-oll",cfopPll:"cfop-pll"};class v{constructor(t,e=!1){this.level=t,this.charging=e}}var d;(function(t){const e={cubeService:"0000aadb-0000-1000-8000-00805f9b34fb",configService:"0000aaaa-0000-1000-8000-00805f9b34fb",cubeCharacteristic:"0000aadc-0000-1000-8000-00805f9b34fb",configCharacteristic:"0000aaac-0000-1000-8000-00805f9b34fb",infoCharacteristic:"0000aaab-0000-1000-8000-00805f9b34fb"},i=204,s=181,o=161;let n,r,a,c,h,m,d=0;function u(){return!!window.navigator.bluetooth}function p(){return!!(n&&n.gatt&&n.gatt.connected)}function f(t,o,v,d){return l["a"](this,void 0,void 0,function*(){c=t,h=o,m=v;const l=[{namePrefix:"Gi"}],u=[e.cubeService,e.configService];n=yield navigator.bluetooth.requestDevice({filters:l,optionalServices:u}),n.ongattserverdisconnected=d;const p=yield n.gatt.connect(),f=yield p.getPrimaryService(e.cubeService),b=yield p.getPrimaryService(e.configService);r=yield f.getCharacteristic(e.cubeCharacteristic),a=yield b.getCharacteristic(e.configCharacteristic);const g=yield b.getCharacteristic(e.infoCharacteristic);return yield g.startNotifications(),g.oncharacteristicvaluechanged=S,yield a.writeValue(Uint8Array.of(i)),yield a.writeValue(Uint8Array.of(s)),yield r.startNotifications(),r.oncharacteristicvaluechanged=y,r.readValue(),n.name})}function b(){return l["a"](this,void 0,void 0,function*(){return new Promise((t,e)=>l["a"](this,void 0,void 0,function*(){p()?(yield n.gatt.disconnect(),setTimeout(t,4e3)):e("there are no connected devices")}))})}function g(){return l["a"](this,void 0,void 0,function*(){if(!p())throw new Error("there are no connected devices");yield a.writeValue(Uint8Array.of(o)),yield a.writeValue(Uint8Array.of(i))})}function S(t){const e=new Uint8Array(t.target.value.buffer);14===e.length&&(e[0]===i&&h?(d=e[1]<<24|e[2]<<16|e[3]<<8|e[4],h(d)):e[0]===s&&m&&m(new v(e[1],2===e[2])))}function w(t){const e=t;if(167===e[18]){const i=[176,81,104,224,86,137,237,119,38,26,193,161,210,126,150,81,93,13,236,249,89,235,88,24,113,81,214,131,130,199,2,169,39,165,171,41],s=t[19]>>4&15,o=15&t[19];for(let t=0;t<18;t++)e[t]+=i[t+s]+i[t+o]}return e}function y(t){d++,c&&c(w(new Uint8Array(t.target.value.buffer))),h&&h(d)}t.available=u,t.connected=p,t.connect=f,t.disconnect=b,t.reset=g})(d||(d={}));var u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-list",[t.connected?[i("v-list-tile",{staticClass:"pb-1",attrs:{avatar:""}},[i("v-list-tile-avatar",[i("v-icon",{staticClass:"primary white--text"},[t._v("grid_on")])],1),i("v-list-tile-title",[t._v("\n                "+t._s(t.name)+"\n            ")])],1),i("v-divider"),i("v-list-tile",{staticClass:"pt-1"},[i("v-list-tile-content",[t._v("\n                Steps\n            ")]),i("v-list-tile-action",[i("v-chip",[t._v(t._s(t.steps))])],1)],1),i("v-list-tile",[i("v-list-tile-content",[t._v("\n                Battery\n            ")]),i("v-list-tile-action",[i("v-chip",[t.battery.charging?i("v-icon",{staticClass:"pr-1",attrs:{small:"",color:"green"}},[t._v("battery_charging_full")]):t._e(),t._v(t._s(t.battery.level)+"%")],1)],1)],1),i("v-list-tile",{staticClass:"pt-3"},[i("v-btn",{attrs:{flat:"",color:"primary",disabled:t.loading||!t.connected},on:{click:t.reset}},[t._v("Reset")]),t._v("Â \n            "),i("v-btn",{attrs:{flat:"",color:"accent",loading:t.loading},on:{click:t.toggleConnect}},[t._v("Disconnect")])],1)]:i("v-list-tile",[i("v-layout",{attrs:{"justify-center":"",row:""}},[i("v-btn",{attrs:{flat:"",loading:t.loading,color:"accent",disabled:!t.bluetooth},on:{click:t.toggleConnect}},[t._v("Connect")])],1)],1)],2)},p=[];let f=class extends c["c"]{constructor(){super(...arguments),this.bluetooth=!1,this.connected=!1,this.loading=!1,this.name="",this.steps=0,this.battery=new v(0)}mounted(){this.bluetooth=d.available()}toggleConnect(){return l["a"](this,void 0,void 0,function*(){this.doWithLoading(()=>l["a"](this,void 0,void 0,function*(){d.connected()?(yield d.disconnect(),this.connected=!1):(this.name=yield d.connect(this.onState,this.onSteps,this.onBattery,this.onDisconnect),h.$emit(m.cubeConnect,this.name),this.connected=!0)}))})}reset(){return l["a"](this,void 0,void 0,function*(){this.doWithLoading(()=>l["a"](this,void 0,void 0,function*(){this.connected&&(yield d.reset(),h.$emit(m.cubeReset))}))})}doWithLoading(t){return l["a"](this,void 0,void 0,function*(){this.loading=!0;try{yield t()}catch(e){h.$emit(m.error,e)}finally{this.loading=!1}})}onState(t){h.$emit(m.cubeState,t)}onSteps(t){this.steps=t}onBattery(t){this.battery=t}onDisconnect(t){this.connected=!1,h.$emit(m.cubeDisconnect,this.name)}};f=l["b"]([c["a"]],f);var b=f,g=b,S=i("2877"),w=Object(S["a"])(g,u,p,!1,null,null,null),y=w.exports,T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.game.scrambling?i("v-layout",{attrs:{"justify-start":"","align-center":"",column:""}},[i("v-flex",{staticClass:"card-scramble",attrs:{xs12:""}},[t.game.working?i("v-card",[i("v-card-title",[i("h3",[t._v(t._s(t.game.operation))]),i("v-progress-linear",{attrs:{indeterminate:!0}})],1)],1):i("v-card",[i("v-card-title",{staticClass:"headline"},[i("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[i("v-flex",[i("v-btn",{attrs:{flat:"",icon:"",color:"primary"},on:{click:function(e){return t.game.generateScramble()}}},[i("v-icon",[t._v("refresh")])],1)],1),t._l(t.game.scramble,function(e,s){return i("v-flex",{key:s,class:[{"grey--text":t.game.position>s}]},[t._v("\n                        "+t._s(e)+"\n                    ")])}),i("v-flex",[i("v-icon",{staticClass:"scramble_info",staticStyle:{cursor:"pointer","line-height":"28px!important"},nativeOn:{click:function(e){e.stopPropagation(),t.tooltip=!t.tooltip}}},[t._v("info")]),i("v-tooltip",{attrs:{bottom:"","open-delay":"0",activator:".scramble_info"},model:{value:t.tooltip,callback:function(e){t.tooltip=e},expression:"tooltip"}},[i("span",{staticClass:"subheading"},[t._v("\n                                - "),i("kbd",[t._v("U")]),t._v(" is "),i("strong",[t._v("white")]),t._v(" and "),i("kbd",[t._v("F")]),t._v(" is "),i("strong",[t._v("green")]),i("br"),t._v("\n                                - "),i("kbd",[t._v(t._s(t.game.solveTrigger.join(" ")))]),t._v(" to start solve without completing the scramble\n                            ")])])],1)],2)],1)],1)],1)],1):t._e()},x=[];let C=class extends c["c"]{constructor(){super(...arguments),this.tooltip=!1}};l["b"]([Object(c["b"])()],C.prototype,"game",void 0),C=l["b"]([c["a"]],C);var _=C,I=_,k=Object(S["a"])(I,T,x,!1,null,null,null),F=k.exports,L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{attrs:{"justify-start":"","align-center":"",column:""}},[i("v-flex",[i("v-flex",{staticClass:"display-4 font-weight-bold main_timer",staticStyle:{"text-align":"center"}},[i("span",[t._v(t._s((t.game.time/1e3).toFixed(3)))]),i("div",{staticClass:"cancel"},[i("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.game.active,expression:"game.active"}],attrs:{icon:"",ripple:""},on:{click:function(e){return t.game.cancel()}}},[i("v-icon",{attrs:{large:"",color:"accent"}},[t._v("cancel")])],1)],1)]),i("v-flex",{staticClass:"text-xs-center"},[i("v-chip",{attrs:{color:"blue-grey","text-color":"white"}},[i("v-avatar",{staticClass:"blue-grey darken-4"},[t._v(t._s(t.game.turns))]),t._v("\n                    turns\n                    ")],1),i("span",{staticClass:"spacer"}),i("v-chip",{attrs:{color:"blue-grey","text-color":"white"}},[i("v-avatar",{staticClass:"blue-grey darken-4"},[t._v(t._s(t.game.tps()))]),t._v("\n                    TPS\n                    ")],1)],1)],1)],1)},E=[];let O=class extends c["c"]{};l["b"]([Object(c["b"])()],O.prototype,"game",void 0),O=l["b"]([c["a"]],O);var $=O,A=$,P=(i("0d4a"),Object(S["a"])(A,L,E,!1,null,"f9a19108",null)),R=P.exports,U=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-data-table",{attrs:{headers:t.headers,items:t.results,"hide-actions":!0},scopedSlots:t._u([{key:"items",fn:function(e){return[i("td",[t._v(t._s(e.item.scramble))]),i("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.cross?e.item.cross.toFixed(2):"-"))]),i("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.f2l?e.item.f2l.toFixed(2):"-"))]),i("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.oll?e.item.oll.toFixed(2):"-"))]),i("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.pll?e.item.pll.toFixed(2):"-"))]),i("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.auf?e.item.auf.toFixed(2):"-"))]),i("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.turns))]),i("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.tps))]),i("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.auf?e.item.auf.toFixed(2):"-"))])]}}])})},B=[];const j={start:"mark-start",inspection:"mark-inspection",cross:"mark-cross",f2l1Inspection:"mark-f2l1i",f2l1Solve:"mark-f2l1s",f2l2Inspection:"mark-f2l2i",f2l2Solve:"mark-f2l2s",f2l3Inspection:"mark-f2l3i",f2l3Solve:"mark-f2l3s",f2l4Inspection:"mark-f2l4i",f2l4Solve:"mark-f2l4s",ollInspection:"mark-olli",ollSolve:"mark-olls",pllInspection:"mark-plli",pllSolve:"mark-plls",solved:"mark-solved"},D={inspection:"meas-inspection",cross:"meas-cross",f2l1Inspection:"meas-f2l1i",f2l1Solve:"meas-f2l1s",f2l2Inspection:"meas-f2l2i",f2l2Solve:"meas-f2l2s",f2l3Inspection:"meas-f2l3i",f2l3Solve:"meas-f2l3s",f2l4Inspection:"meas-f2l4i",f2l4Solve:"meas-f2l4s",ollInspection:"meas-olli",ollSolve:"meas-olls",pllInspection:"meas-plli",pllSolve:"meas-plls",auf:"meas-auf",solved:"meas-solved"};class N{static cubeScrambled(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] cube scrambled"),window.performance.clearMarks(),window.performance.clearMeasures(),window.performance.mark(j.start)}static crossStarted(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] cross started"),window.performance.mark(j.inspection),window.performance.measure(D.inspection,j.start,j.inspection)}static crossSolved(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] cross solved"),window.performance.mark(j.cross),window.performance.measure(D.cross,j.inspection,j.cross)}static f2l1Started(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] F2L #1 started"),window.performance.mark(j.f2l1Inspection),window.performance.measure(D.f2l1Inspection,j.cross,j.f2l1Inspection)}static f2l1Solved(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] F2L #1 solved"),window.performance.mark(j.f2l1Solve),window.performance.measure(D.f2l1Solve,j.f2l1Inspection,j.f2l1Solve)}static f2l2Started(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] F2L #2 started"),window.performance.mark(j.f2l2Inspection),window.performance.measure(D.f2l2Inspection,j.f2l1Solve,j.f2l2Inspection)}static f2l2Solved(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] F2L #2 solved"),window.performance.mark(j.f2l2Solve),window.performance.measure(D.f2l2Solve,j.f2l2Inspection,j.f2l2Solve)}static f2l3Started(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] F2L #3 started"),window.performance.mark(j.f2l3Inspection),window.performance.measure(D.f2l3Inspection,j.f2l2Solve,j.f2l3Inspection)}static f2l3Solved(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] F2L #3 solved"),window.performance.mark(j.f2l3Solve),window.performance.measure(D.f2l3Solve,j.f2l3Inspection,j.f2l3Solve)}static f2l4Started(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] F2L #4 started"),window.performance.mark(j.f2l4Inspection),window.performance.measure(D.f2l4Inspection,j.f2l3Solve,j.f2l4Inspection)}static f2l4Solved(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] F2L #4 solved"),window.performance.mark(j.f2l4Solve),window.performance.measure(D.f2l4Solve,j.f2l4Inspection,j.f2l4Solve)}static ollStarted(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] OLL started"),window.performance.mark(j.ollInspection),window.performance.measure(D.ollInspection,j.f2l4Solve,j.ollInspection)}static ollSolved(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] OLL solved"),window.performance.mark(j.ollSolve),window.performance.measure(D.ollSolve,j.ollInspection,j.ollSolve)}static pllStarted(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] PLL started"),window.performance.mark(j.pllInspection),window.performance.measure(D.pllInspection,j.ollSolve,j.pllInspection)}static pllSolved(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] PLL solved"),window.performance.mark(j.pllSolve),window.performance.measure(D.pllSolve,j.pllInspection,j.pllSolve)}static cubeSolved(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] cube solved"),window.performance.mark(j.solved),window.performance.measure(D.solved,j.inspection,j.solved),window.performance.measure(D.auf,j.pllSolve,j.solved)}static getInspectionTime(){return N.getTime(D.inspection,j.start)}static getCrossSolveTime(){return N.getTime(D.cross,j.inspection)}static getF2l1InspectionTime(){return N.getTime(D.f2l1Inspection,j.cross)}static getF2l1SolveTime(){return N.getTime(D.f2l1Solve,j.f2l1Inspection)}static getF2l2InspectionTime(){return N.getTime(D.f2l2Inspection,j.f2l1Solve)}static getF2l2SolveTime(){return N.getTime(D.f2l2Solve,j.f2l2Inspection)}static getF2l3InspectionTime(){return N.getTime(D.f2l3Inspection,j.f2l2Solve)}static getF2l3SolveTime(){return N.getTime(D.f2l3Solve,j.f2l3Inspection)}static getF2l4InspectionTime(){return N.getTime(D.f2l4Inspection,j.f2l3Solve)}static getF2l4SolveTime(){return N.getTime(D.f2l4Solve,j.f2l4Inspection)}static getOllInspectionTime(){return N.getTime(D.ollInspection,j.f2l4Solve)}static getOllSolveTime(){return N.getTime(D.ollSolve,j.ollInspection)}static getPllInspectionTime(){return N.getTime(D.pllInspection,j.ollSolve)}static getPllSolveTime(){return N.getTime(D.pllSolve,j.pllInspection)}static getAUFTime(){return N.getTime(D.auf,j.pllSolve)}static getSolveTime(){return N.getTime(D.solved,j.inspection)}static getEntry(t){const e=window.performance.getEntriesByName(t);return e.length?e[0].duration||e[0].startTime:0}static getTime(t,e){const i=N.getEntry(t),s=N.getEntry(e);return i||(s?window.performance.now()-s:0)}}let G=class extends c["c"]{constructor(){super(...arguments),this.localStorageKey="results",this.headers=[{text:"Scramble",align:"left",sortable:!1,value:"name"},{text:"Cross",value:"cross",align:"center"},{text:"F2L",value:"f2l",align:"center"},{text:"OLL",value:"oll",align:"center"},{text:"PLL",value:"pll",align:"center"},{text:"AUF",value:"auf",align:"center"},{text:"Turns",value:"turns",align:"center"},{text:"TPS",value:"tps",align:"center"},{text:"Time",value:"time",align:"center",sortable:!0}],this.results=[]}mounted(){h.$on(m.cubeSolved,()=>this.onCubeSolved()),this.loadResults()}seconds(t){return t/1e3}onCubeSolved(){this.results.unshift({scramble:this.game.scramble.join(" ")||"Unknown",cross:this.seconds(N.getCrossSolveTime()),f2l:this.seconds(N.getF2l1SolveTime()),oll:this.seconds(N.getOllSolveTime()),pll:this.seconds(N.getPllSolveTime()),auf:this.seconds(N.getAUFTime()),turns:this.game.turns,tps:this.game.tps(),time:this.game.time/1e3}),localStorage.setItem(this.localStorageKey,JSON.stringify(this.results))}loadResults(){try{const e=localStorage.getItem(this.localStorageKey);e&&(this.results=JSON.parse(e))}catch(t){this.results=[]}}};l["b"]([Object(c["b"])()],G.prototype,"game",void 0),G=l["b"]([c["a"]],G);var W=G,H=W,Y=Object(S["a"])(H,U,B,!1,null,null,null),M=Y.exports,z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"card-inspection",attrs:{color:"blue-grey lighten-4",ripple:""}},[i("v-card-title",{staticClass:"display-2"},[t._v("\n        Inspection"),i("v-spacer"),t._v(t._s((t.time/1e3).toFixed(2))+"\n    ")],1)],1)},q=[];let V=class extends c["c"]{constructor(){super(...arguments),this.time=0,this.active=!1}mounted(){h.$on(m.cubeScrambled,()=>this.onCubeScrambled()),h.$on(m.solveStarted,()=>this.onSolveStarted()),h.$on(m.solveCancelled,()=>this.stop())}onCubeScrambled(){this.time=0,this.active=!0,window.requestAnimationFrame(this.timer)}onSolveStarted(){this.stop(),this.time=N.getInspectionTime()}timer(){this.time=N.getInspectionTime(),this.active&&window.requestAnimationFrame(this.timer)}stop(){this.active=!1}};V=l["b"]([c["a"]],V);var J=V,K=J,Q=Object(S["a"])(K,z,q,!1,null,null,null),X=Q.exports,Z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"card-cross",attrs:{color:"blue-grey darken-1",dark:"",ripple:""},nativeOn:{click:function(e){t.details=!0}}},[i("v-card-title",{staticClass:"display-2"},[t._v("\n        Cross\n        "),i("v-spacer"),t.cross?i("v-avatar",{staticClass:"font-weight-bold white--text body-1",attrs:{size:"32",color:t.chip[t.cross].color}},[t._v(t._s(t.cross))]):t._e()],1),i("v-card-text",{staticClass:"display-2 text-xs-center"},[t._v("\n        "+t._s((t.time/1e3).toFixed(2))+"\n    ")]),i("v-card-title",{staticClass:"headline"},[t._v("\n        Â \n    ")]),i("v-bottom-sheet",{model:{value:t.details,callback:function(e){t.details=e},expression:"details"}},[i("v-list",[i("v-subheader",[t._v("Open in")])],1)],1)],1)},tt=[];const et=Uint8Array.from([18,52,86,120,51,51,51,51,18,52,86,120,154,188,0,0]);var it;(function(t){t[t["BLU"]=1]="BLU",t[t["YEL"]=2]="YEL",t[t["RED"]=3]="RED",t[t["WHI"]=4]="WHI",t[t["PIN"]=5]="PIN",t[t["GRE"]=6]="GRE"})(it||(it={}));it.BLU,it.YEL,it.RED,it.WHI,it.PIN,it.GRE,it.GRE,it.WHI,it.PIN,it.YEL,it.RED,it.BLU;const st=["B","Y","R","W","P","G"],ot=["B","D","L","U","R","F"],nt=["F","U","R","D","L","B"],rt=[[it.GRE,it.YEL,it.PIN],[it.GRE,it.PIN,it.WHI],[it.GRE,it.WHI,it.RED],[it.GRE,it.RED,it.YEL],[it.BLU,it.PIN,it.YEL],[it.BLU,it.WHI,it.PIN],[it.BLU,it.RED,it.WHI],[it.BLU,it.YEL,it.RED]],at=[[it.GRE,it.YEL],[it.GRE,it.PIN],[it.GRE,it.WHI],[it.GRE,it.RED],[it.YEL,it.PIN],[it.WHI,it.PIN],[it.WHI,it.RED],[it.YEL,it.RED],[it.BLU,it.YEL],[it.BLU,it.PIN],[it.BLU,it.WHI],[it.BLU,it.RED]],lt=[[26,47,33],[20,27,8],[18,6,11],[24,17,45],[42,35,53],[36,2,29],[38,9,0],[44,51,15]],ct=[[25,46],[23,30],[19,7],[21,14],[50,34],[5,28],[3,10],[48,16],[43,52],[39,32],[37,1],[41,12]],ht=[it.WHI,it.WHI,it.WHI,it.WHI,it.WHI,it.WHI,it.WHI,it.WHI,it.WHI,it.RED,it.RED,it.RED,it.RED,it.RED,it.RED,it.RED,it.RED,it.RED,it.GRE,it.GRE,it.GRE,it.GRE,it.GRE,it.GRE,it.GRE,it.GRE,it.GRE,it.PIN,it.PIN,it.PIN,it.PIN,it.PIN,it.PIN,it.PIN,it.PIN,it.PIN,it.BLU,it.BLU,it.BLU,it.BLU,it.BLU,it.BLU,it.BLU,it.BLU,it.BLU,it.YEL,it.YEL,it.YEL,it.YEL,it.YEL,it.YEL,it.YEL,it.YEL,it.YEL],mt=[[...ct[8],...ct[9],...ct[10],...ct[11]],[...ct[0],...ct[4],...ct[7],...ct[8]],[...ct[3],...ct[6],...ct[7],...ct[11]],[...ct[2],...ct[5],...ct[6],...ct[10]],[...ct[1],...ct[4],...ct[5],...ct[9]],[...ct[0],...ct[1],...ct[2],...ct[3]]],vt=[[[...lt[4],...ct[4]],[...lt[5],...ct[5]],[...lt[6],...ct[6]],[...lt[7],...ct[7]]],[[...lt[0],...ct[1]],[...lt[3],...ct[3]],[...lt[4],...ct[9]],[...lt[7],...ct[11]]],[[...lt[2],...ct[2]],[...lt[3],...ct[0]],[...lt[6],...ct[10]],[...lt[7],...ct[8]]],[[...lt[1],...ct[1]],[...lt[2],...ct[3]],[...lt[5],...ct[9]],[...lt[6],...ct[11]]],[[...lt[0],...ct[0]],[...lt[1],...ct[2]],[...lt[4],...ct[8]],[...lt[5],...ct[10]]],[[...lt[0],...ct[4]],[...lt[1],...ct[5]],[...lt[2],...ct[6]],[...lt[3],...ct[7]]]],dt=[[18,19,20,21,22,23,24,25,26],[0,1,2,3,4,5,6,7,8],[27,28,29,30,31,32,33,34,35],[45,46,47,48,49,50,51,52,53],[9,10,11,12,13,14,15,16,17],[36,37,38,39,40,41,42,43,44]],ut=[[6,7,8,11,14,17,27,30,33,45,46,47],[9,10,11,18,19,20,27,28,29,36,37,38],[2,5,8,20,23,26,36,39,42,47,50,53],[15,16,17,24,25,26,33,34,35,42,43,44],[0,3,6,18,21,24,38,41,44,45,48,51],[0,1,2,9,12,15,29,32,35,51,52,53]];class pt{constructor(t){this.colorStateArray=t}getSolvedCrossColor(){for(let t=0;t<mt.length;t++){let e=!0;for(const i of mt[t])if(this.colorStateArray[i]!==ht[i]){e=!1;break}if(e)return st[t]}return""}getSolvedF2lsForCross(t){const e=st.indexOf(t);if(e<0)return[];const i=vt[e],s=[];for(const o of i){let t=!0;for(const e of o)if(this.colorStateArray[e]!==ht[e]){t=!1;break}if(t){const t=lt.findIndex(t=>JSON.stringify(t)===JSON.stringify(o.slice(0,3))),e=rt[t].map(t=>st[t-1]).join("");s.push(e)}}return s}isOllSolvedForCross(t){const e=st.indexOf(t);if(e<0)return!1;for(const i of dt[e])if(this.colorStateArray[i]!==ht[i])return!1;return!0}isPllSolvedForCross(t){const e=st.indexOf(t);if(e<0||4!==this.getSolvedF2lsForCross(t).length)return!1;const i=ut[e];for(let s=0;s<i.length;s+=3)if(this.colorStateArray[i[s]]!==this.colorStateArray[i[s+1]]||this.colorStateArray[i[s]]!==this.colorStateArray[i[s+2]])return!1;return!0}}class ft{constructor(t){this.rawState=et,this.colorState="",this.visualState="",this.cp=Uint8Array.from([1,2,3,4,5,6,7,8]),this.co=Uint8Array.from([3,3,3,3,3,3,3,3]),this.eo=Uint8Array.from([1,2,3,4,5,6,7,8,9,10,11,12]),this.ep=Uint8Array.from([0,0,0,0,0,0,0,0,0,0,0,0]),this.colorStateArray=new Uint8Array(54),this.visualStateArray=[],this.rawState=t,this.cp=this.rawState.splitBytes(0,4),this.co=this.rawState.splitBytes(4,4),this.ep=this.rawState.splitBytes(8,6),this.eo=this.rawState.splitBits(14,2).slice(0,12),this.normalizeCO(),this.setupCenters(),this.computeColorState(),this.computeVisualState(),this.analyzer=new pt(this.colorStateArray)}static from(t){if(20!==t.length)throw new Error("raw cube state should be exactly 20 bytes");return new ft(t)}static OptimizeMoves(t){const e=[];for(let i=0;i<t.length;i++)e.push(i<t.length-1&&t[i]===t[i+1]?t[i++][0]+"2":t[i]);return e}lastmove(){const t=ot[(this.rawState[16]>>4)-1];return 3===(15&this.rawState[16])?t+"'":t}cross(){return this.analyzer.getSolvedCrossColor()}f2l(t){return this.analyzer.getSolvedF2lsForCross(t)}oll(t){return this.analyzer.isOllSolvedForCross(t)}pll(t){return this.analyzer.isPllSolvedForCross(t)}solved(){for(let t=0;t<16;t++)if(this.rawState[t]!==et[t])return!1;return!0}normalizeCO(){[0,2,5,7].forEach(t=>{3!==this.co[t]&&(this.co[t]=1===this.co[t]?2:1)})}setupCenters(){this.colorStateArray[4]=it.WHI,this.colorStateArray[13]=it.RED,this.colorStateArray[22]=it.GRE,this.colorStateArray[31]=it.PIN,this.colorStateArray[40]=it.BLU,this.colorStateArray[49]=it.YEL}computeColorState(){for(let t=0;t<lt.length;t++){const e=lt[t];for(let i=0;i<e.length;i++){const s=e[i],o=rt[this.cp[t]-1],n=(this.co[t]+i)%3;this.colorStateArray[s]=o[n]}}for(let t=0;t<ct.length;t++){const e=ct[t];for(let i=0;i<e.length;i++){const s=e[i],o=at[this.ep[t]-1],n=(this.eo[t]+i)%2;this.colorStateArray[s]=o[n]}}this.colorState="",this.colorStateArray.forEach(t=>this.colorState+=st[t-1])}computeVisualState(){this.visualStateArray=[];for(let t=0;t<9;t++)this.visualStateArray.push(ot[this.colorStateArray[t]-1]);for(let t=27;t<36;t++)this.visualStateArray.push(ot[this.colorStateArray[t]-1]);for(let t=18;t<27;t++)this.visualStateArray.push(ot[this.colorStateArray[t]-1]);for(let t=45;t<54;t++)this.visualStateArray.push(ot[this.colorStateArray[t]-1]);for(let t=9;t<18;t++)this.visualStateArray.push(ot[this.colorStateArray[t]-1]);for(let t=36;t<45;t++)this.visualStateArray.push(ot[this.colorStateArray[t]-1]);this.visualState=this.visualStateArray.join("")}}let bt=class extends c["c"]{constructor(){super(...arguments),this.time=0,this.active=!1,this.inspection=!1,this.details=!1,this.cross="",this.moves=[],this.chip={G:{color:"green",text:"green"},Y:{color:"yellow darken-1",text:"yellow"},P:{color:"pink lighten-2",text:"pink"},W:{color:"black",text:"white"},R:{color:"red",text:"red"},B:{color:"blue",text:"blue"}}}mounted(){h.$on(m.cubeScrambled,()=>this.onCubeScrambled()),h.$on(m.solveCancelled,()=>this.stop()),h.$on(m.cubeState,t=>this.onCubeState(t))}onCubeScrambled(){this.time=0,this.cross="",this.moves=[],this.active=this.inspection=!0}onCubeState(t){if(!this.active)return;this.inspection&&this.start();const e=ft.from(t);this.moves=ft.OptimizeMoves([...this.moves,e.lastmove()]),this.cross=e.cross(),this.cross&&this.done(this.cross,t)}timer(){this.time=N.getCrossSolveTime(),this.active&&!this.inspection&&window.requestAnimationFrame(this.timer)}start(){N.crossStarted(),this.inspection=!1,window.requestAnimationFrame(this.timer),h.$emit(m.solveStarted)}done(t,e){this.stop(),N.crossSolved(),this.time=N.getCrossSolveTime(),c["c"].nextTick(()=>h.$emit(m.cfopCross,this.cross,e))}stop(){this.active=!1}};bt=l["b"]([c["a"]],bt);var gt=bt,St=gt,wt=Object(S["a"])(St,Z,tt,!1,null,null,null),yt=wt.exports,Tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"card-f2l",attrs:{color:"blue-grey darken-2",dark:"",ripple:""}},[i("v-card-title",{staticClass:"display-2"},[t._v("\n        F2L\n        "),i("v-spacer"),t.active?i("v-avatar",{staticClass:"font-weight-bold white--text body-1",attrs:{size:"32",color:"accent"}},[t._v(t._s(t.pairs.length+1))]):t._e()],1),i("v-card-text",{staticClass:"display-2 text-xs-center"},[t._v("\n        "+t._s(((t.inspectionTime+t.solveTime)/1e3).toFixed(2))+"\n    ")]),i("v-card-title",{staticClass:"headline"},[i("v-tooltip",{attrs:{bottom:""}},[i("div",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s((t.inspectionTime/1e3).toFixed(2)))]),i("span",[t._v("Inspection time")])]),i("v-spacer"),i("v-tooltip",{attrs:{bottom:""}},[i("div",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s((t.solveTime/1e3).toFixed(2)))]),i("span",[t._v("Execution time")])])],1)],1)},xt=[];function Ct(t){return ot[st.indexOf(t)]}function _t(t){return nt[ot.indexOf(t)]}let It=class extends c["c"]{constructor(){super(...arguments),this.details=!1,this.active=!1,this.inspection=!1,this.pairs=[],this.cross="",this.inspectionFace="",this.solveTime=0,this.solveTime1=0,this.solveTime2=0,this.solveTime3=0,this.solveTime4=0,this.inspectionTime=0,this.inspectionTime1=0,this.inspectionTime2=0,this.inspectionTime3=0,this.inspectionTime4=0,this.moves=[]}mounted(){h.$on(m.cubeScrambled,()=>this.onCubeScrambled()),h.$on(m.solveCancelled,()=>this.stop()),h.$on(m.cfopCross,(t,e)=>this.onCross(t,e)),h.$on(m.cubeState,t=>this.onCubeState(t))}onCubeScrambled(){this.solveTime=this.inspectionTime=0,this.solveTime1=this.inspectionTime1=0,this.solveTime2=this.inspectionTime2=0,this.solveTime3=this.inspectionTime3=0,this.solveTime4=this.inspectionTime4=0,this.moves=[],this.pairs=[]}onCross(t,e){this.cross=t,this.inspectionFace=_t(Ct(t));const i=ft.from(e),s=i.f2l(this.cross);s[0]&&(this.pairs.push(s[0]),N.f2l1Started(),N.f2l1Solved()),s[1]&&(this.pairs.push(s[1]),N.f2l2Started(),N.f2l2Solved()),s[2]&&(this.pairs.push(s[2]),N.f2l3Started(),N.f2l3Solved()),s[3]&&(this.pairs.push(s[3]),N.f2l4Started(),N.f2l4Solved()),4===this.pairs.length?h.$emit(m.cfopF2l,this.cross,e):(this.active=this.inspection=!0,window.requestAnimationFrame(this.timer))}onCubeState(t){if(!this.active)return;const e=ft.from(t);if(this.moves=ft.OptimizeMoves([...this.moves,e.lastmove()]),this.inspection){if(e.lastmove()[0]===this.inspectionFace)return;this.inspection=!1,0===this.pairs.length?N.f2l1Started():1===this.pairs.length?N.f2l2Started():2===this.pairs.length?N.f2l3Started():3===this.pairs.length&&(N.f2l4Started(),this.inspectionTime=this.inspectionTime1+this.inspectionTime2+this.inspectionTime3+this.inspectionTime4)}const i=e.f2l(this.cross);i.forEach(t=>{-1===this.pairs.indexOf(t)&&(this.inspection=!0,this.pairs.push(t),1===this.pairs.length?N.f2l1Solved():2===this.pairs.length?N.f2l2Solved():3===this.pairs.length?N.f2l3Solved():4===this.pairs.length&&N.f2l4Solved())}),4===this.pairs.length&&(this.stop(),this.solveTime=this.solveTime1+this.solveTime2+this.solveTime3+this.solveTime4,c["c"].nextTick(()=>h.$emit(m.cfopF2l,this.cross,t)))}stop(){this.active=!1}timer(){this.solveTime1=N.getF2l1SolveTime(),this.solveTime2=N.getF2l2SolveTime(),this.solveTime3=N.getF2l3SolveTime(),this.solveTime4=N.getF2l4SolveTime(),this.solveTime=this.solveTime1+this.solveTime2+this.solveTime3+this.solveTime4,this.inspectionTime1=N.getF2l1InspectionTime(),this.inspectionTime2=N.getF2l2InspectionTime(),this.inspectionTime3=N.getF2l3InspectionTime(),this.inspectionTime4=N.getF2l4InspectionTime(),this.inspectionTime=this.inspectionTime1+this.inspectionTime2+this.inspectionTime3+this.inspectionTime4,this.active&&window.requestAnimationFrame(this.timer)}};It=l["b"]([c["a"]],It);var kt=It,Ft=kt,Lt=Object(S["a"])(Ft,Tt,xt,!1,null,null,null),Et=Lt.exports,Ot=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"card-oll",attrs:{color:"blue-grey darken-3",dark:"",ripple:""}},[i("v-card-title",{staticClass:"display-2"},[t._v("\n        OLL\n    ")]),i("v-card-text",{staticClass:"display-2 text-xs-center"},[t._v("\n        "+t._s(((t.inspectionTime+t.solveTime)/1e3).toFixed(2))+"\n    ")]),i("v-card-title",{staticClass:"headline"},[i("v-tooltip",{attrs:{bottom:""}},[i("div",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s((t.inspectionTime/1e3).toFixed(2)))]),i("span",[t._v("Inspection time")])]),i("v-spacer"),i("v-tooltip",{attrs:{bottom:""}},[i("div",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s((t.solveTime/1e3).toFixed(2)))]),i("span",[t._v("Execution time")])])],1)],1)},$t=[];let At=class extends c["c"]{constructor(){super(...arguments),this.active=!1,this.inspection=!1,this.cross="",this.inspectionFace="",this.solveTime=0,this.inspectionTime=0,this.moves=[]}mounted(){h.$on(m.cubeScrambled,()=>this.onCubeScrambled()),h.$on(m.solveCancelled,()=>this.stop()),h.$on(m.cfopF2l,(t,e)=>this.onF2L(t,e)),h.$on(m.cubeState,t=>this.onCubeState(t))}onCubeScrambled(){this.solveTime=this.inspectionTime=0,this.moves=[],this.inspection=!0}onF2L(t,e){this.cross=t,this.inspectionFace=_t(Ct(t));const i=ft.from(e);i.oll(this.cross)?(N.ollStarted(),N.ollSolved(),h.$emit(m.cfopOll,this.cross,e)):(this.active=!0,window.requestAnimationFrame(this.timer))}onCubeState(t){if(!this.active)return;const e=ft.from(t);if(this.moves=ft.OptimizeMoves([...this.moves,e.lastmove()]),this.inspection){if(e.lastmove()[0]===this.inspectionFace)return;N.ollStarted(),this.inspection=!1,this.inspectionTime=N.getOllInspectionTime()}e.oll(this.cross)&&(N.ollSolved(),this.stop(),this.solveTime=N.getOllSolveTime(),c["c"].nextTick(()=>h.$emit(m.cfopOll,this.cross,t)))}stop(){this.active=!1}timer(){this.solveTime=N.getOllSolveTime(),this.inspectionTime=N.getOllInspectionTime(),this.active&&window.requestAnimationFrame(this.timer)}};At=l["b"]([c["a"]],At);var Pt=At,Rt=Pt,Ut=Object(S["a"])(Rt,Ot,$t,!1,null,null,null),Bt=Ut.exports,jt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"card-pll",attrs:{color:"blue-grey darken-4",dark:"",ripple:""}},[i("v-card-title",{staticClass:"display-2"},[t._v("\n        PLL\n    ")]),i("v-card-text",{staticClass:"display-2 text-xs-center"},[t._v("\n        "+t._s(((t.inspectionTime+t.solveTime)/1e3).toFixed(2))+"\n    ")]),i("v-card-title",{staticClass:"headline"},[i("v-tooltip",{attrs:{bottom:""}},[i("div",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s((t.inspectionTime/1e3).toFixed(2)))]),i("span",[t._v("Inspection time")])]),i("v-spacer"),i("v-tooltip",{attrs:{bottom:""}},[i("div",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s((t.solveTime/1e3).toFixed(2)))]),i("span",[t._v("Execution time")])])],1)],1)},Dt=[];let Nt=class extends c["c"]{constructor(){super(...arguments),this.active=!1,this.inspection=!1,this.cross="",this.inspectionFace="",this.solveTime=0,this.inspectionTime=0,this.moves=[]}mounted(){h.$on(m.cubeScrambled,()=>this.onCubeScrambled()),h.$on(m.solveCancelled,()=>this.stop()),h.$on(m.cfopOll,(t,e)=>this.onOLL(t,e)),h.$on(m.cubeState,t=>this.onCubeState(t))}onCubeScrambled(){this.solveTime=this.inspectionTime=0,this.moves=[],this.inspection=!0}onOLL(t,e){this.cross=t,this.inspectionFace=_t(Ct(t));const i=ft.from(e);i.pll(this.cross)?(N.pllStarted(),N.pllSolved(),h.$emit(m.cfopPll,e)):(this.active=!0,window.requestAnimationFrame(this.timer))}onCubeState(t){if(!this.active)return;const e=ft.from(t);if(this.moves=ft.OptimizeMoves([...this.moves,e.lastmove()]),this.inspection){if(e.lastmove()[0]===this.inspectionFace)return;N.pllStarted(),this.inspection=!1,this.inspectionTime=N.getPllInspectionTime()}e.pll(this.cross)&&(N.pllSolved(),this.stop(),this.solveTime=N.getPllSolveTime(),c["c"].nextTick(()=>h.$emit(m.cfopPll,t)))}stop(){this.active=!1}timer(){this.solveTime=N.getPllSolveTime(),this.inspectionTime=N.getPllInspectionTime(),this.active&&window.requestAnimationFrame(this.timer)}};Nt=l["b"]([c["a"]],Nt);var Gt=Nt,Wt=Gt,Ht=Object(S["a"])(Wt,jt,Dt,!1,null,null,null),Yt=Ht.exports,Mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"card-auf",attrs:{color:"blue-grey lighten-4",ripple:""}},[i("v-card-title",{staticClass:"display-2",nativeOn:{click:function(e){return t.alert("click")}}},[t._v("\n        AUF"),i("v-spacer"),t._v(t._s(t.skipped?"---":(t.time/1e3).toFixed(2))+"\n    ")],1)],1)},zt=[];let qt=class extends c["c"]{constructor(){super(...arguments),this.details=!1,this.solving=!1,this.interval=0,this.time=0,this.skipped=!1,this.moves=[]}mounted(){h.$on(m.cubeScrambled,()=>this.onCubeScrambled()),h.$on(m.solveCancelled,()=>this.stopSolve()),h.$on(m.cfopPll,t=>this.onPLL(t)),h.$on(m.cubeState,t=>this.onCubeState(t))}onCubeScrambled(){this.time=0,this.moves=[],this.skipped=!1}onPLL(t){ft.from(t).solved()?(this.skipped=!0,this.cubeSolved()):(this.solving=!0,this.interval=window.setInterval(()=>this.onTimer(),10))}onCubeState(t){if(!this.solving)return;const e=ft.from(t);this.moves=ft.OptimizeMoves([...this.moves,e.lastmove()]),e.solved()&&(this.cubeSolved(),this.stopSolve(),this.time=N.getAUFTime())}cubeSolved(){N.cubeSolved(),h.$emit(m.cubeSolved)}stopSolve(){this.solving=!1,this.interval&&(window.clearInterval(this.interval),this.interval=0)}onTimer(){this.time=N.getAUFTime()}};qt=l["b"]([c["a"]],qt);var Vt=qt,Jt=Vt,Kt=Object(S["a"])(Jt,Mt,zt,!1,null,null,null),Qt=Kt.exports,Xt=i("b0ec"),Zt=i.n(Xt);const te=i("08e2");class ee{constructor(){this.scramble=[],this.time=0,this.turns=0,this.position=0,this.scrambling=!0,this.active=!1,this.working=!1,this.operation="Initializing scrambler...",this.solveTrigger=["R","R'"],this.triggerBuffer=[],this.lastMoveTimestamp=0,this.worker=new Zt.a,h.$on(m.cubeScrambled,()=>this.onCubeScrambled()),h.$on(m.cubeSolved,()=>this.generateScramble()),h.$on(m.solveCancelled,()=>this.generateScramble()),h.$on(m.solveStarted,()=>this.onSolveStarted()),h.$on(m.cubeSolved,()=>this.stop()),h.$on(m.cubeState,t=>this.onCubeState(t)),this.worker.onmessage=t=>{switch(t.data.cmd){case"init":this.generateScramble();break;case"scramble":this.onScrambleGenerated(t.data.scramble);break}},this.worker.postMessage({cmd:"init"})}cancel(){this.stop(),h.$emit(m.solveCancelled)}tps(){return this.time?(this.turns/(this.time/1e3)).toFixed(2):"0.00"}generateScramble(){this.scrambling=!0,this.operation="Generating scramble...",this.working=!0,this.worker.postMessage({cmd:"scramble"})}onCubeState(t){if(this.turns=this.active?this.turns+1:this.turns,!this.scrambling||!this.scrambleAvailable()||this.scrambleCompleted())return;const e=ft.from(t);this.checkTrigger(e);const i=new te;i.move(this.scramble.slice(0,this.position+1).join(" ")),e.visualState===i.asString()&&(this.position++,this.scrambleCompleted()&&this.onScrambleCompleted())}onScrambleGenerated(t){this.working=!1,this.scramble=[],this.position=0,t.split(" ").forEach(t=>this.scramble.push(t))}onScrambleCompleted(){N.cubeScrambled(),c["c"].nextTick(()=>h.$emit(m.cubeScrambled,this.scramble.join(" "))),this.scrambling=!1}scrambleAvailable(){return this.scramble.length>0}scrambleCompleted(){return this.scramble.length>0&&this.scramble.length===this.position}checkTrigger(t){t.lastmove()===this.solveTrigger[this.triggerBuffer.length]&&(0===this.triggerBuffer.length||Date.now()-this.lastMoveTimestamp<200)?(this.triggerBuffer.push(t.lastmove()),this.solveTrigger.join("")===this.triggerBuffer.join("")&&(this.triggerBuffer=[],this.onScrambleCompleted())):this.triggerBuffer=[],this.lastMoveTimestamp=Date.now()}onCubeScrambled(){this.time=this.turns=0,this.active=!0}onSolveStarted(){window.requestAnimationFrame(this.timer.bind(this))}timer(){this.time=N.getSolveTime(),this.active&&window.requestAnimationFrame(this.timer.bind(this))}stop(){this.active=!1}}let ie=class extends c["c"]{constructor(){super(...arguments),this.drawer=!1,this.snackbar=!1,this.loading=!1,this.nobluetooth=!1,this.connected=!1,this.cubeName="",this.snackbarTimeout=3e3,this.snackbarColor="info",this.snackbarText="",this.state="",this.game=new ee}mounted(){this.nobluetooth=!d.available(),this.nobluetooth||(h.$on(m.error,t=>this.onError(t)),h.$on(m.cubeState,t=>this.onCubeState(t)),h.$on(m.cubeConnect,t=>this.onCubeConnect(t)),h.$on(m.cubeDisconnect,t=>this.onCubeDisconnect(t)),h.$on(m.cubeScrambled,()=>window.setTimeout(()=>this.$vuetify.goTo(".card-inspection",{offset:-100,duration:500,easing:"easeInOutCubic"}),100)),h.$on(m.solveStarted,()=>window.setTimeout(()=>this.$vuetify.goTo(".card-cross",{offset:-100,duration:500,easing:"easeInOutCubic"}),100)),h.$on(m.cfopCross,()=>window.setTimeout(()=>this.$vuetify.goTo(".card-f2l",{offset:-100,duration:500,easing:"easeInOutCubic"}),100)),h.$on(m.cfopF2l,()=>window.setTimeout(()=>this.$vuetify.goTo(".card-oll",{offset:-100,duration:500,easing:"easeInOutCubic"}),100)),h.$on(m.cfopOll,()=>window.setTimeout(()=>this.$vuetify.goTo(".card-pll",{offset:-100,duration:500,easing:"easeInOutCubic"}),100)),h.$on(m.cfopPll,t=>window.setTimeout(()=>this.$vuetify.goTo(ft.from(t).solved()?".card-scramble":".card-auf",{offset:-100,duration:500,easing:"easeInOutCubic"}),100)),h.$on(m.cubeSolved,()=>window.setTimeout(()=>this.$vuetify.goTo(".card-scramble",{offset:-100,duration:500,easing:"easeInOutCubic"}),100)))}onError(t){this.toast(t.toString(),"error"),console.log(t.toString())}onCubeState(t){this.state=t.toHexString()}onCubeConnect(t){this.connected=!0,this.cubeName=t}onCubeDisconnect(t){this.connected=!1}toast(t,e="info"){this.snackbarText=t,this.snackbarColor=e,this.snackbar=!0}};ie=l["b"]([Object(c["a"])({components:{Device:y,Scramble:F,SolveTimer:R,Inspection:X,Results:M,Cross:yt,F2L:Et,OLL:Bt,PLL:Yt,AUF:Qt}})],ie);var se=ie,oe=se,ne=Object(S["a"])(oe,r,a,!1,null,null,null),re=ne.exports;s["default"].config.productionTip=!1,new s["default"]({render:t=>t(re)}).$mount("#app"),Uint8Array.prototype.splitBytes=function(t,e){return this.slice(t,t+e).reduce((t,e,i)=>{return t[2*i]=e>>4,t[2*i+1]=15&e,t},new Uint8Array(2*e))},Uint8Array.prototype.splitBits=function(t,e){let i="";for(let s=t;s<t+e;s++)i+=this[s].toString(2).padStart(8,"0");return Uint8Array.from(i.split("").map(t=>parseInt(t,10)))},Uint8Array.prototype.toHexString=function(){return Array.from(this).map(t=>t.toString(16).padStart(2,"0")).join("-")}}});
//# sourceMappingURL=app.20891950.js.map